[colors]
background = #1a1b26
foreground = #c0caf5
primary = #7aa2f7
alert = #f7768e
disabled = #565f89
white = #FFFFFF

[bar/main]
width = 100%
height = 28pt
radius = 0

background = ${colors.background}
foreground = ${colors.foreground}

line-size = 3pt

padding-left = 1
padding-right = 1

module-margin = 1

separator = |
separator-foreground = ${colors.disabled}

# Ensure this font name matches exactly what we installed
font-0 = "JetBrainsMono Nerd Font:size=11;2"

modules-left = xworkspaces xwindow
modules-right = network-stat memory cpu date
modules-center = target

cursor-click = pointer
enable-ipc = true

[module/xworkspaces]
type = internal/xworkspaces
label-active = %name%
label-active-background = ${colors.disabled}
label-active-underline= ${colors.primary}
label-active-padding = 1
label-occupied = %name%
label-occupied-padding = 1

[network-base]
type = internal/network
interval = 2
format-connected = <label-connected>
format-disconnected = <label-disconnected>
label-disconnected = 

[module/network-stat]
type = custom/script
exec = ~/.config/polybar/scripts/net_stat.sh
interval = 2

[module/target]
type = custom/script
# Read the target file, if it doesn't exist, show "None"
exec = cat ~/.config/polybar/.current_target 2>/dev/null || echo "None"
interval = 2
format-prefix = "ó°“¾ " 
format-prefix-foreground = ${colors.primary}
label = %output%
# Optional: click the module to clear the target
click-left = echo "None" > ~/.config/polybar/.current_target

[module/memory]
type = internal/memory
interval = 2
format-prefix = "RAM "
format-prefix-foreground = ${colors.primary}
label = %percentage_used:2%%

[module/cpu]
type = internal/cpu
interval = 2
format-prefix = "CPU "
format-prefix-foreground = ${colors.primary}
label = %percentage:2%%

[module/date]
type = internal/date
interval = 1
date = %H:%M
date-alt = %Y-%m-%d %H:%M:%S
label = %date%
label-foreground = ${colors.primary}

[settings]
screenchange-reload = true
pseudo-transparency = true